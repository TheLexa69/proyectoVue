(function(){"use strict";var o={8871:function(o,t,a){var e=a(9242),s=a(3396);const n={id:"app",class:"container"},r=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-md-12 mt-2"},[(0,s._)("h1",null,"GESTION CLIENTES")])],-1),i={class:"row"},u={class:"col-md-12"};function l(o,t,a,e,l,d){const c=(0,s.up)("formulario-usuario"),m=(0,s.up)("tabla-usuarios");return(0,s.wg)(),(0,s.iD)("div",n,[r,(0,s._)("div",i,[(0,s._)("div",u,[(0,s.Wm)(c,{onAltaUsuario:d.postUsuario},null,8,["onAltaUsuario"]),(0,s.Wm)(m,{usuarios:l.usuarios,onEliminarusuario:d.deleteUsuario,onEditarUsuario:o.editarusuario,onCancelarEdicion:o.cancelaredicion,onActualizarusuario:d.putusuario},null,8,["usuarios","onEliminarusuario","onEditarUsuario","onCancelarEdicion","onActualizarusuario"])])])])}var d=a(7139);const c=o=>((0,s.dD)("data-v-232ef5bf"),o=o(),(0,s.Cn)(),o),m={id:"tabla-usuarios"},p={key:0,class:"alert alert-info",role:"alert"},h={class:"table"},f=c((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"ID"),(0,s._)("th",null,"Usuario"),(0,s._)("th",null,"Nombre"),(0,s._)("th",null,"Email"),(0,s._)("th",null,"Ciudad"),(0,s._)("th",null,"Numero"),(0,s._)("th",{colspan:"2"},"OPERACIONES")])],-1))),v={key:0},y={key:1},_={key:2},g=["onUpdate:modelValue"],w={key:3},b={key:4},E=["onUpdate:modelValue"],U={key:5},k={key:6},D=["onUpdate:modelValue"],C={key:7},I={key:8},O=["onUpdate:modelValue"],j={key:9},V={key:10},x=["onUpdate:modelValue"],F={key:11},T={key:12},z=["onClick"],N=["onClick"],A={key:13,class:"botones"},S=["onClick"],K=["onClick"];function $(o,t,a,n,r,i){return(0,s.wg)(),(0,s.iD)("div",m,[a.usuarios.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p," No existen usuarios ")),(0,s._)("table",h,[f,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.usuarios,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[r.editando===t.id?((0,s.wg)(),(0,s.iD)("td",v,(0,d.zw)(t.id),1)):((0,s.wg)(),(0,s.iD)("td",y,(0,d.zw)(t.id),1)),r.editando===t.id?((0,s.wg)(),(0,s.iD)("td",_,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>t.username=o},null,8,g),[[e.nr,t.username]])])):((0,s.wg)(),(0,s.iD)("td",w,(0,d.zw)(t.username),1)),r.editando===t.id?((0,s.wg)(),(0,s.iD)("td",b,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>t.name=o},null,8,E),[[e.nr,t.name]])])):((0,s.wg)(),(0,s.iD)("td",U,(0,d.zw)(t.name),1)),r.editando===t.id?((0,s.wg)(),(0,s.iD)("td",k,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>t.email=o},null,8,D),[[e.nr,t.email]])])):((0,s.wg)(),(0,s.iD)("td",C,(0,d.zw)(t.email),1)),r.editando===t.id?((0,s.wg)(),(0,s.iD)("td",I,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>t.city=o},null,8,O),[[e.nr,t.city]])])):((0,s.wg)(),(0,s.iD)("td",j,(0,d.zw)(t.city),1)),r.editando===t.id?((0,s.wg)(),(0,s.iD)("td",V,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>t.phone=o},null,8,x),[[e.nr,t.phone]])])):((0,s.wg)(),(0,s.iD)("td",F,(0,d.zw)(t.phone),1)),r.editando===t.id?((0,s.wg)(),(0,s.iD)("td",T,[(0,s._)("button",{class:"btn btn-success btn-sm",onClick:o=>i.guardarusuario(t)},"💾 Guardar",8,z),(0,s._)("button",{class:"btn btn-danger btn-sm",onClick:o=>i.cancelaredicion(t)},"❌ Cancelar",8,N)])):((0,s.wg)(),(0,s.iD)("td",A,[(0,s._)("button",{class:"btn btn-info btn-sm",onClick:o=>i.editarusuario(t)},"✏️ Editar",8,S),(0,s._)("button",{class:"btn btn-danger btn-sm",onClick:a=>o.$emit("eliminarusuario",t)},"🗑️ Eliminar",8,K)]))])))),128))])])])}var P={name:"TablaUsuarios",props:{usuarios:Array},data(){return{editando:null}},methods:{editarusuario(o){this.usuarioEditado=Object.assign({},o),this.editando=o.id},cancelaredicion(o){Object.assign(o,this.usuarioEditado),this.editando=null},guardarusuario(o){o.username.length&&o.name.length&&o.email.length&&o.city.length&&o.phone.length&&(this.$emit("actualizarusuario",o),this.editando=null)}}},q=a(89);const Z=(0,q.Z)(P,[["render",$],["__scopeId","data-v-232ef5bf"]]);var G=Z;const J=o=>((0,s.dD)("data-v-0271bc5f"),o=o(),(0,s.Cn)(),o),L={id:"formulario-usuario"},M={class:"container"},W={class:"row"},H={class:"col-md-4"},R={class:"form-group"},Y=J((()=>(0,s._)("label",null,"Username",-1))),B={class:"col-md-4"},Q={class:"form-group"},X=J((()=>(0,s._)("label",null,"Nombre",-1))),oo={class:"col-md-4"},to={class:"form-group"},ao=J((()=>(0,s._)("label",null,"Email",-1))),eo={class:"col-md-4"},so={class:"form-group"},no=J((()=>(0,s._)("label",null,"Ciudad",-1))),ro={class:"col-md-4"},io={class:"form-group"},uo=J((()=>(0,s._)("label",null,"Teléfono",-1))),lo=J((()=>(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-md-12"},[(0,s._)("div",{class:"form-group"},[(0,s._)("button",{class:"btn btn-primary"},"Alta Usuario")])])],-1))),co={class:"container"},mo={class:"row"},po={class:"col-md-12"},ho={key:0,class:"alert alert-danger",role:"alert"},fo={key:1,class:"alert alert-success",role:"alert"};function vo(o,t,a,n,r,i){return(0,s.wg)(),(0,s.iD)("div",L,[(0,s._)("form",{onSubmit:t[15]||(t[15]=(0,e.iM)(((...o)=>i.enviarForm&&i.enviarForm(...o)),["prevent"]))},[(0,s._)("div",M,[(0,s._)("div",W,[(0,s._)("div",H,[(0,s._)("div",R,[Y,(0,s.wy)((0,s._)("input",{ref:"name","onUpdate:modelValue":t[0]||(t[0]=o=>r.usuario.username=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":r.procesando&&i.usernameInvalido}]),onFocus:t[1]||(t[1]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:t[2]||(t[2]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,r.usuario.username]])])]),(0,s._)("div",B,[(0,s._)("div",Q,[X,(0,s.wy)((0,s._)("input",{ref:"name","onUpdate:modelValue":t[3]||(t[3]=o=>r.usuario.name=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":r.procesando&&i.nameInvalido}]),onFocus:t[4]||(t[4]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:t[5]||(t[5]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,r.usuario.name]])])]),(0,s._)("div",oo,[(0,s._)("div",to,[ao,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>r.usuario.email=o),type:"email",class:(0,d.C_)(["form-control",{"is-invalid":r.procesando&&i.emailInvalido}]),onFocus:t[7]||(t[7]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:t[8]||(t[8]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,r.usuario.email]])])]),(0,s._)("div",eo,[(0,s._)("div",so,[no,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>r.usuario.city=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":r.procesando&&i.cityInvalido}]),onFocus:t[10]||(t[10]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:t[11]||(t[11]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,r.usuario.city]])])]),(0,s._)("div",ro,[(0,s._)("div",io,[uo,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>r.usuario.phone=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":r.procesando&&i.phoneInvalido}]),onFocus:t[13]||(t[13]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:t[14]||(t[14]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,r.usuario.phone]])])])]),lo]),(0,s._)("div",co,[(0,s._)("div",mo,[(0,s._)("div",po,[r.error&&r.procesando?((0,s.wg)(),(0,s.iD)("div",ho," Debes cubrir todos los campos ")):(0,s.kq)("",!0),o.correct?((0,s.wg)(),(0,s.iD)("div",fo," Usuario dado de alta correctamente ")):(0,s.kq)("",!0)])])])],32)])}var yo={name:"FormularioUsuario",data(){return{procesando:!1,correcto:!1,error:!1,usuario:{id:"",username:"",name:"",email:"",city:"",phone:""}}},methods:{enviarForm(){this.procesando=!0,this.resetEstado(),this.usernameInvalido||this.nameInvalido||this.emailInvalido||this.cityInvalido||this.phoneInvalido?this.error=!0:(this.$emit("alta-usuario",this.usuario),this.$refs.name.focus(),this.error=!1,this.correcto=!0,this.procesando=!1,this.usuario={id:"",username:"",name:"",email:"",city:"",phone:""})},resetEstado(){this.correcto=!1,this.error=!1}},computed:{usernameInvalido(){return this.usuario.username.length<1},nameInvalido(){return this.usuario.name.length<1},emailInvalido(){return this.usuario.email.length<1},cityInvalido(){return this.usuario.city.length<1},phoneInvalido(){return this.usuario.phone.length<1}}};const _o=(0,q.Z)(yo,[["render",vo],["__scopeId","data-v-0271bc5f"]]);var go=_o,wo={name:"app",components:{FormularioUsuario:go,TablaUsuarios:G},data(){return{usuarios:[]}},methods:{async postUsuario(o){try{const t=await fetch("http://localhost:3000/usuarios",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset = UTF-8"}}),a=await t.json();this.usuarios=[...this.usuarios,a]}catch(t){console.log(t)}},async getUsuarios(){try{const o=await fetch("http://localhost:3000/usuarios");this.usuarios=await o.json()}catch(o){console.log("Error en getUsuarios.",o)}},async deleteUsuario(o){try{await fetch(`http://localhost:3000/usuarios/${o.id}`,{method:"DELETE"}),this.usuarios=this.usuarios.filter((t=>t.id!==o.id))}catch(t){console.error(t)}},async putusuario(o){try{const t=await fetch(`http://localhost:3000/usuarios/${o.id}`,{method:"PUT",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset = UTF-8"}}),a=await t.json();this.usuarios=this.usuarios.map((t=>t.id===o.id?a:t))}catch(t){console.log(t)}}},mounted(){this.getUsuarios()}};const bo=(0,q.Z)(wo,[["render",l]]);var Eo=bo;(0,e.ri)(Eo).mount("#app")}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,a),n.exports}a.m=o,function(){var o=[];a.O=function(t,e,s,n){if(!e){var r=1/0;for(d=0;d<o.length;d++){e=o[d][0],s=o[d][1],n=o[d][2];for(var i=!0,u=0;u<e.length;u++)(!1&n||r>=n)&&Object.keys(a.O).every((function(o){return a.O[o](e[u])}))?e.splice(u--,1):(i=!1,n<r&&(r=n));if(i){o.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}n=n||0;for(var d=o.length;d>0&&o[d-1][2]>n;d--)o[d]=o[d-1];o[d]=[e,s,n]}}(),function(){a.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return a.d(t,{a:t}),t}}(),function(){a.d=function(o,t){for(var e in t)a.o(t,e)&&!a.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){var o={143:0};a.O.j=function(t){return 0===o[t]};var t=function(t,e){var s,n,r=e[0],i=e[1],u=e[2],l=0;if(r.some((function(t){return 0!==o[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(u)var d=u(a)}for(t&&t(e);l<r.length;l++)n=r[l],a.o(o,n)&&o[n]&&o[n][0](),o[n]=0;return a.O(d)},e=self["webpackChunkproyectoej"]=self["webpackChunkproyectoej"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(8871)}));e=a.O(e)})();
//# sourceMappingURL=app.51dbd356.js.map